{"version":3,"file":"themed.js","sources":["../../../../components/UIAction/themed.tsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport warning from 'warning';\nimport classNames from 'classnames';\nimport LoaderDots from '../LoaderDots/index';\nimport { InputRowContext } from '../InputRow/index';\nimport getAnchorProps from './get-anchor-props';\nimport getButtonProps from './get-button-props';\nimport styles from './themed.module.scss';\n\nenum loaderDotsTheme {\n    primary = 'inverse',\n    secondary = 'brand',\n    tertiary = 'muted',\n}\n\nconst withIcon = (\n    children: React.ReactNode,\n    { icon, iconRight }: { icon?: React.ReactNode; iconRight?: React.ReactNode },\n): React.ReactNode => {\n    if (!icon && !iconRight) {\n        return children;\n    }\n\n    return (\n        <span className={styles.flexCenter}>\n            <span\n                className={classNames({\n                    [styles.iconContainer]: true,\n                    [styles.iconContainerHasRightChildren]: children,\n                })}\n            >\n                {icon}\n            </span>\n            {children}\n            <span\n                className={classNames({\n                    [styles.iconContainer]: true,\n                    [styles.iconContainerHasLeftChildren]: children,\n                })}\n            >\n                {iconRight}\n            </span>\n        </span>\n    );\n};\n\nconst withLoader = (\n    children: React.ReactNode,\n    {\n        isLoading,\n        theme = 'primary',\n    }: { isLoading?: boolean; theme?: 'primary' | 'secondary' | 'tertiary' },\n): React.ReactNode => {\n    if (!isLoading) {\n        return children;\n    }\n\n    return (\n        <span className={styles.loaderContainer}>\n            <span className={styles.absoluteCenter}>\n                <LoaderDots theme={loaderDotsTheme[theme]} size=\"small\" />\n            </span>\n            <span className={styles.hidden}>{children}</span>\n        </span>\n    );\n};\n\nconst withFlexWrapper = (\n    children: React.ReactNode,\n    { size }: { size?: 'small' | 'large' },\n): React.ReactNode => (\n    <span\n        className={classNames({\n            [styles.flexWrapper]: true,\n            [styles.flexWrapperSizeSmall]: size === 'small',\n            [styles.flexWrapperSizeLarge]: size === 'large',\n        })}\n    >\n        {children}\n    </span>\n);\n\nconst Themed = React.forwardRef<HTMLButtonElement | HTMLAnchorElement, PropTypes>(\n    (\n        {\n            children,\n            isDisabled = false,\n            isLoading = false,\n            icon,\n            iconRight,\n            type = 'button',\n            to,\n            shouldOpenInNewTab = false,\n            target,\n            onClick,\n            onMouseEnter,\n            onMouseOver,\n            onFocus,\n            onMouseLeave,\n            onBlur,\n            accessibilityLabel,\n            size = 'large',\n            theme = 'primary',\n            width = 'auto',\n            dataTestId,\n            dataTest,\n        }: PropTypes,\n        ref,\n    ): JSX.Element => {\n        warning(\n            children || accessibilityLabel || ((icon || iconRight) && children),\n            'The prop `accessibilityLabel` must be provided to the button or link when `icon` or `iconRight` is provided but `children` is not. This helps users on screen readers navigate our content.',\n        );\n\n        return (\n            <InputRowContext.Consumer>\n                {({ isWithinInputRow, isFirstInputRowChild, isLastInputRowChild }): JSX.Element => {\n                    const isAnchor = !!to;\n                    const anchorProps = getAnchorProps({\n                        isDisabled,\n                        shouldOpenInNewTab,\n                        to,\n                        onClick,\n                        target,\n                    });\n                    const buttonProps = getButtonProps({\n                        onClick,\n                        type,\n                        onMouseEnter,\n                        onMouseOver,\n                        onFocus,\n                        onMouseLeave,\n                        onBlur,\n                    });\n\n                    const className = classNames({\n                        [styles.themedButton]: true,\n                        [styles.themedButtonRoundedBordersLeft]:\n                            isFirstInputRowChild || !isWithinInputRow,\n                        [styles.themedButtonRoundedBordersRight]:\n                            isLastInputRowChild || !isWithinInputRow,\n                        [styles.themedButtonHasNoRightBorder]:\n                            isWithinInputRow && !isLastInputRowChild,\n                        [styles.themedButtonThemePrimary]: theme === 'primary',\n                        [styles.themedButtonThemeTertiary]: theme === 'tertiary',\n                        [styles.themedButtonThemeSecondary]: theme === 'secondary',\n                        [styles.themedButtonThemeCaution]: theme === 'caution',\n                        [styles.themedButtonThemeSolid]: theme === 'solid',\n                        [styles.themedButtonThemePopoverPrimary]: theme === 'popover-primary',\n                        [styles.themedButtonThemePopoverSecondary]: theme === 'popover-secondary',\n                        [styles.themedButtonWidthAuto]: width === 'auto' && !isWithinInputRow,\n                        [styles.themedButtonWidthFull]: width === 'full' || isWithinInputRow,\n                        [styles.themedButtonWidthFullBelowSmall]:\n                            width === 'full-below-small' && !isWithinInputRow,\n                    });\n\n                    const commonProps = {\n                        disabled: isLoading || isDisabled,\n                        className,\n                        'aria-label': accessibilityLabel,\n                        'data-testid': dataTestId,\n                        'data-test': dataTest,\n                    };\n\n                    // There are more themes here than are valid for use with `LoaderDots`, so restrict the type\n                    // by overwriting any invalid themes as `undefined`.\n                    const restrictedTheme =\n                        theme === 'primary' || theme === 'secondary' || theme === 'tertiary'\n                            ? theme\n                            : undefined;\n\n                    const newChildren = withFlexWrapper(\n                        withLoader(withIcon(children, { icon, iconRight }), {\n                            isLoading,\n                            theme: restrictedTheme,\n                        }),\n                        { size },\n                    );\n\n                    if (isAnchor) {\n                        return (\n                            <a\n                                {...commonProps}\n                                {...anchorProps}\n                                ref={ref as React.Ref<HTMLAnchorElement>}\n                            >\n                                {newChildren}\n                            </a>\n                        );\n                    }\n\n                    return (\n                        // Disable this rule, even though `buttonProps.type` can never be undefined,\n                        // because the rule itself is broken and shows a false positive.\n                        // https://github.com/yannickcr/eslint-plugin-react/issues/1555\n                        // eslint-disable-next-line react/button-has-type\n                        <button\n                            {...commonProps}\n                            {...buttonProps}\n                            ref={ref as React.Ref<HTMLButtonElement>}\n                        >\n                            {newChildren}\n                        </button>\n                    );\n                }}\n            </InputRowContext.Consumer>\n        );\n    },\n);\n\ninterface PropTypes {\n    /**\n     * Contents displayed within the button.\n     */\n    children?: React.ReactNode;\n    /**\n     * Boolean determining whether the button is disabled. When `true` it will appear visually\n     * \"greyed out\" and not respond to interaction.\n     */\n    isDisabled?: boolean;\n    /**\n     * Boolean determining whether the button is in a loading state. When `true` the text will\n     * we replaced with a loading animation and interaction will be disabled.\n     */\n    isLoading?: boolean;\n    /**\n     * Icon from [Thumbprint Icons](/icons/) to render left within the button.\n     */\n    icon?: React.ReactNode;\n    /**\n     * Icon from [Thumbprint Icons](/icons/) to render right within the button.\n     */\n    iconRight?: React.ReactNode;\n    /**\n     * Button's on type `submit` will submit a form when used within a `form`\n     * element.\n     */\n    type?: 'button' | 'submit';\n    /**\n     * Page to navigate to when the anchor is clicked.\n     */\n    to?: string;\n    /**\n     * @deprecated\n     * Opens the URL in a new tab when clicked.\n     * This is deprecated. Use `target=\"_blank\"` instead.\n     */\n    shouldOpenInNewTab?: boolean;\n    /**\n     * The anchor `target` attribute. Set this to `_blank` to open in a new tab, or to an arbitrary\n     * string to open the link in an `<iframe>` with the same `name`.\n     */\n    target?: string;\n    /**\n     * Function that will run when the button is clicked on.\n     */\n    onClick?: (event: React.MouseEvent<HTMLButtonElement | HTMLAnchorElement, MouseEvent>) => void;\n    /**\n     * Function that runs when the user hovers on the button.\n     */\n    onMouseEnter?: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n    /**\n     * Function that runs when the user hovers on the button. Unlike `onMouseEnter`, `onMouseOver`\n     * fires each time a child element receives focus.\n     */\n    onMouseOver?: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n    /**\n     * Function that runs when the user hovers away from the button.\n     */\n    onMouseLeave?: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n    /**\n     * Function that runs when the button receives focus.\n     */\n    onFocus?: (event: React.FocusEvent<HTMLButtonElement>) => void;\n    /**\n     * Function that runs when the button loses focus.\n     */\n    onBlur?: (event: React.FocusEvent<HTMLButtonElement>) => void;\n    /**\n     * Description of the button’s content. It is required if the button has an icon and no\n     * descriptive text.\n     */\n    accessibilityLabel?: string;\n    /**\n     * Controls the button's background, text, and border color.\n     */\n    theme?:\n        | 'primary'\n        | 'secondary'\n        | 'tertiary'\n        | 'caution'\n        | 'solid'\n        | 'popover-primary'\n        | 'popover-secondary';\n    /**\n     * Changes the button's `line-height`, `padding`, `border-radius`, and `font-size`.\n     */\n    size?: 'small' | 'large';\n    /**\n     * `Button` components are as wide as the content that is passed in. The `full` option will\n     * expand the width to `100%` on all screens. `full-below-small` will expand the width to 100%\n     * on devices smaller than [our `small` breakpoint](/tokens/#section-breakpoint).\n     */\n    width?: 'auto' | 'full' | 'full-below-small';\n    /**\n     * A selector hook into the React component for use in automated testing environments.\n     */\n    dataTestId?: string;\n    /**\n     * A selector hook into the React component for use in automated testing environments.\n     * @deprecated Deprecated in favor of the `dataTestId` prop\n     */\n    dataTest?: string;\n}\n\nexport default Themed;\n"],"names":["loaderDotsTheme","withIcon","children","icon","iconRight","React","styles","flexCenter","classNames","iconContainer","iconContainerHasRightChildren","iconContainerHasLeftChildren","withLoader","isLoading","theme","loaderContainer","absoluteCenter","LoaderDots","hidden","withFlexWrapper","size","flexWrapper","flexWrapperSizeSmall","flexWrapperSizeLarge","Themed","forwardRef","ref","isDisabled","type","to","shouldOpenInNewTab","target","onClick","onMouseEnter","onMouseOver","onFocus","onMouseLeave","onBlur","accessibilityLabel","width","dataTestId","dataTest","warning","InputRowContext","isWithinInputRow","isFirstInputRowChild","isLastInputRowChild","isAnchor","anchorProps","getAnchorProps","buttonProps","getButtonProps","className","themedButton","themedButtonRoundedBordersLeft","themedButtonRoundedBordersRight","themedButtonHasNoRightBorder","themedButtonThemePrimary","themedButtonThemeTertiary","themedButtonThemeSecondary","themedButtonThemeCaution","themedButtonThemeSolid","themedButtonThemePopoverPrimary","themedButtonThemePopoverSecondary","themedButtonWidthAuto","themedButtonWidthFull","themedButtonWidthFullBelowSmall","commonProps","disabled","restrictedTheme","undefined","newChildren"],"mappings":"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"}