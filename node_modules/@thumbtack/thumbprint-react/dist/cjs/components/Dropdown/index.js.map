{"version":3,"file":"index.js","sources":["../../../../components/Dropdown/index.tsx"],"sourcesContent":["import React from 'react';\nimport * as tokens from '@thumbtack/thumbprint-tokens';\nimport classNames from 'classnames';\nimport styles from './index.module.scss';\n\nconst iconColor = {\n    disabled: tokens.tpColorGray,\n    default: tokens.tpColorBlack,\n    error: tokens.tpColorRed,\n};\n\nconst getUIState = ({\n    isDisabled,\n    hasError,\n}: {\n    isDisabled: boolean;\n    hasError: boolean;\n}): 'disabled' | 'error' | 'default' => {\n    if (isDisabled) {\n        return 'disabled';\n    }\n\n    if (hasError) {\n        return 'error';\n    }\n\n    return 'default';\n};\n\ninterface PropTypes {\n    /**\n     * A collection of [HTML `<option>` elements](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option).\n     */\n    children?: React.ReactNode;\n    /**\n     * Adds a HTML `id` attribute to the select. This is used for linking the HTML with a\n     * [Label](/components/label/react/).\n     */\n    id?: string;\n    /**\n     * Visually and functionally disables the select dropdown.\n     */\n    isDisabled?: boolean;\n    /**\n     * Adds `required` HTML attribute to element, indicating that an option with a non-empty string\n     * value must be selected.\n     */\n    isRequired?: boolean;\n    /**\n     * Makes the radio and text color red.\n     */\n    hasError?: boolean;\n    /**\n     * Changes the selectâ€™s font-size, height, and padding.\n     */\n    size?: 'small' | 'large';\n    /**\n     * Set the `<select>`'s width to `100%` as opposed to the default behavior\n     * of only taking up the necessary width.\n     */\n    isFullWidth?: boolean;\n    /**\n     * The `value` of the `<option>` that is selected. See [React documentation\n     * on `<select>` and controlled components](https://facebook.github.io/react/docs/forms.html#the-select-tag)\n     * to learn more.\n     */\n    value: string;\n    /**\n     * Function that is fired when the value of the select changes.\n     */\n    onClick?: (event: React.MouseEvent<HTMLSelectElement, MouseEvent>) => void;\n    /**\n     * A function that is fired when the value of the select changes. The\n     * new `value` is passed to the function.\n     */\n    onChange: (value: string, event: React.ChangeEvent<HTMLSelectElement>) => void;\n    /**\n     * Fires when the select receives focus.\n     */\n    onFocus?: (event: React.FocusEvent<HTMLSelectElement>) => void;\n    /**\n     * Fires when the select loses focus.\n     */\n    onBlur?: (event: React.FocusEvent<HTMLSelectElement>) => void;\n    /**\n     * A selector hook into the React component for use in automated testing environments.\n     */\n    dataTestId?: string;\n    /**\n     * A selector hook into the React component for use in automated testing environments.\n     * @deprecated Deprecated in favor of the `dataTestId` prop\n     */\n    dataTest?: string;\n    /**\n     * Adds `name` HTML attribute to element, indicating the property name associated with the\n     * selected value.\n     */\n    name?: string;\n}\n\nconst Dropdown = ({\n    children,\n    dataTest,\n    dataTestId,\n    hasError = false,\n    id,\n    isDisabled = false,\n    isFullWidth = false,\n    isRequired = false,\n    name,\n    onChange,\n    onFocus,\n    onBlur,\n    onClick = (): void => {},\n    size = 'large',\n    value,\n}: PropTypes): JSX.Element => {\n    const uiState = getUIState({ isDisabled, hasError });\n\n    return (\n        <div\n            className={classNames({\n                [styles.root]: true,\n                [styles.rootWidthFull]: isFullWidth,\n            })}\n        >\n            <select\n                className={classNames({\n                    [styles.select]: true,\n                    [styles.selectStateDisabled]: uiState === 'disabled',\n                    [styles.selectStateError]: uiState === 'error',\n                    [styles.selectStateDefault]: uiState === 'default',\n                    [styles.selectSizeSmall]: size === 'small',\n                    [styles.selectSizeLarge]: size === 'large',\n                })}\n                id={id}\n                disabled={isDisabled}\n                required={isRequired}\n                value={value}\n                onClick={onClick}\n                onChange={(event): void => onChange(event.target.value, event)}\n                onFocus={onFocus}\n                onBlur={onBlur}\n                data-testid={dataTestId}\n                data-test={dataTest}\n                name={name}\n            >\n                {children}\n            </select>\n\n            <svg\n                viewBox=\"0 0 24 24\"\n                width=\"18\"\n                height=\"18\"\n                className={styles.caret}\n                stroke={iconColor[uiState]}\n                strokeWidth=\"3\"\n                fill=\"none\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            >\n                <polyline points=\"6 9 12 15 18 9\" />\n            </svg>\n        </div>\n    );\n};\n\nexport default Dropdown;\n"],"names":["iconColor","disabled","tokens","default","error","getUIState","isDisabled","hasError","Dropdown","children","dataTest","dataTestId","id","isFullWidth","isRequired","name","onChange","onFocus","onBlur","onClick","size","value","uiState","React","classNames","styles","root","rootWidthFull","select","selectStateDisabled","selectStateError","selectStateDefault","selectSizeSmall","selectSizeLarge","event","target","caret"],"mappings":";;;;;;;;;;;AAKA,IAAMA,SAAS,GAAG;EACdC,QAAQ,EAAEC,kBADI;EAEdC,OAAO,EAAED,mBAFK;EAGdE,KAAK,EAAEF;CAHX;;AAMA,IAAMG,UAAU,GAAG,SAAbA,UAAa,OAMqB;MALpCC,UAKoC,QALpCA,UAKoC;MAJpCC,QAIoC,QAJpCA,QAIoC;;MAChCD,UAAJ,EAAgB;WACL,UAAP;;;MAGAC,QAAJ,EAAc;WACH,OAAP;;;SAGG,SAAP;CAfJ;;AAyFA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,QAgBa;;;MAf1BC,QAe0B,SAf1BA,QAe0B;MAd1BC,QAc0B,SAd1BA,QAc0B;MAb1BC,UAa0B,SAb1BA,UAa0B;6BAZ1BJ,QAY0B;MAZ1BA,QAY0B,+BAZf,KAYe;MAX1BK,EAW0B,SAX1BA,EAW0B;+BAV1BN,UAU0B;MAV1BA,UAU0B,iCAVb,KAUa;gCAT1BO,WAS0B;MAT1BA,WAS0B,kCATZ,KASY;+BAR1BC,UAQ0B;MAR1BA,UAQ0B,iCARb,KAQa;MAP1BC,IAO0B,SAP1BA,IAO0B;MAN1BC,SAM0B,SAN1BA,QAM0B;MAL1BC,OAK0B,SAL1BA,OAK0B;MAJ1BC,MAI0B,SAJ1BA,MAI0B;4BAH1BC,OAG0B;MAH1BA,OAG0B,8BAHhB,YAAY,EAGI;yBAF1BC,IAE0B;MAF1BA,IAE0B,2BAFnB,OAEmB;MAD1BC,KAC0B,SAD1BA,KAC0B;MACpBC,OAAO,GAAGjB,UAAU,CAAC;IAAEC,UAAU,EAAVA,UAAF;IAAcC,QAAQ,EAARA;GAAf,CAA1B;SAGIgB;IACI,SAAS,EAAEC,UAAU,0EAChBC,MAAM,CAACC,IADS,EACF,IADE,yDAEhBD,MAAM,CAACE,aAFS,EAEOd,WAFP;KAKrBU;IACI,SAAS,EAAEC,UAAU,4EAChBC,MAAM,CAACG,MADS,EACA,IADA,0DAEhBH,MAAM,CAACI,mBAFS,EAEaP,OAAO,KAAK,UAFzB,0DAGhBG,MAAM,CAACK,gBAHS,EAGUR,OAAO,KAAK,OAHtB,0DAIhBG,MAAM,CAACM,kBAJS,EAIYT,OAAO,KAAK,SAJxB,0DAKhBG,MAAM,CAACO,eALS,EAKSZ,IAAI,KAAK,OALlB,0DAMhBK,MAAM,CAACQ,eANS,EAMSb,IAAI,KAAK,OANlB,iBADzB;IASI,EAAE,EAAER,EATR;IAUI,QAAQ,EAAEN,UAVd;IAWI,QAAQ,EAAEQ,UAXd;IAYI,KAAK,EAAEO,KAZX;IAaI,OAAO,EAAEF,OAbb;IAcI,QAAQ,EAAE,kBAACe,KAAD;aAAiBlB,SAAQ,CAACkB,KAAK,CAACC,MAAN,CAAad,KAAd,EAAqBa,KAArB,CAAzB;KAdd;IAeI,OAAO,EAAEjB,OAfb;IAgBI,MAAM,EAAEC,MAhBZ;mBAiBiBP,UAjBjB;iBAkBeD,QAlBf;IAmBI,IAAI,EAAEK;KAELN,QArBL,CANJ,EA8BIc;IACI,OAAO,EAAC,WADZ;IAEI,KAAK,EAAC,IAFV;IAGI,MAAM,EAAC,IAHX;IAII,SAAS,EAAEE,MAAM,CAACW,KAJtB;IAKI,MAAM,EAAEpC,SAAS,CAACsB,OAAD,CALrB;IAMI,WAAW,EAAC,GANhB;IAOI,IAAI,EAAC,MAPT;IAQI,aAAa,EAAC,OARlB;IASI,cAAc,EAAC;KAEfC;IAAU,MAAM,EAAC;IAXrB,CA9BJ,CADJ;CAnBJ;;;;"}