{"ast":null,"code":"/*! npm.im/object-fit-images 3.2.4 */\n'use strict';\n\nvar OFI = 'bfred-it:object-fit-images';\nvar propRegex = /(object-fit|object-position)\\s*:\\s*([-.\\w\\s%]+)/g;\nvar testImg = typeof Image === 'undefined' ? {\n  style: {\n    'object-position': 1\n  }\n} : new Image();\nvar supportsObjectFit = ('object-fit' in testImg.style);\nvar supportsObjectPosition = ('object-position' in testImg.style);\nvar supportsOFI = ('background-size' in testImg.style);\nvar supportsCurrentSrc = typeof testImg.currentSrc === 'string';\nvar nativeGetAttribute = testImg.getAttribute;\nvar nativeSetAttribute = testImg.setAttribute;\nvar autoModeEnabled = false;\n\nfunction createPlaceholder(w, h) {\n  return \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='\" + w + \"' height='\" + h + \"'%3E%3C/svg%3E\";\n}\n\nfunction polyfillCurrentSrc(el) {\n  if (el.srcset && !supportsCurrentSrc && window.picturefill) {\n    var pf = window.picturefill._; // parse srcset with picturefill where currentSrc isn't available\n\n    if (!el[pf.ns] || !el[pf.ns].evaled) {\n      // force synchronous srcset parsing\n      pf.fillImg(el, {\n        reselect: true\n      });\n    }\n\n    if (!el[pf.ns].curSrc) {\n      // force picturefill to parse srcset\n      el[pf.ns].supported = false;\n      pf.fillImg(el, {\n        reselect: true\n      });\n    } // retrieve parsed currentSrc, if any\n\n\n    el.currentSrc = el[pf.ns].curSrc || el.src;\n  }\n}\n\nfunction getStyle(el) {\n  var style = getComputedStyle(el).fontFamily;\n  var parsed;\n  var props = {};\n\n  while ((parsed = propRegex.exec(style)) !== null) {\n    props[parsed[1]] = parsed[2];\n  }\n\n  return props;\n}\n\nfunction setPlaceholder(img, width, height) {\n  // Default: fill width, no height\n  var placeholder = createPlaceholder(width || 1, height || 0); // Only set placeholder if it's different\n\n  if (nativeGetAttribute.call(img, 'src') !== placeholder) {\n    nativeSetAttribute.call(img, 'src', placeholder);\n  }\n}\n\nfunction onImageReady(img, callback) {\n  // naturalWidth is only available when the image headers are loaded,\n  // this loop will poll it every 100ms.\n  if (img.naturalWidth) {\n    callback(img);\n  } else {\n    setTimeout(onImageReady, 100, img, callback);\n  }\n}\n\nfunction fixOne(el) {\n  var style = getStyle(el);\n  var ofi = el[OFI];\n  style['object-fit'] = style['object-fit'] || 'fill'; // default value\n  // Avoid running where unnecessary, unless OFI had already done its deed\n\n  if (!ofi.img) {\n    // fill is the default behavior so no action is necessary\n    if (style['object-fit'] === 'fill') {\n      return;\n    } // Where object-fit is supported and object-position isn't (Safari < 10)\n\n\n    if (!ofi.skipTest && // unless user wants to apply regardless of browser support\n    supportsObjectFit && // if browser already supports object-fit\n    !style['object-position'] // unless object-position is used\n    ) {\n        return;\n      }\n  } // keep a clone in memory while resetting the original to a blank\n\n\n  if (!ofi.img) {\n    ofi.img = new Image(el.width, el.height);\n    ofi.img.srcset = nativeGetAttribute.call(el, \"data-ofi-srcset\") || el.srcset;\n    ofi.img.src = nativeGetAttribute.call(el, \"data-ofi-src\") || el.src; // preserve for any future cloneNode calls\n    // https://github.com/bfred-it/object-fit-images/issues/53\n\n    nativeSetAttribute.call(el, \"data-ofi-src\", el.src);\n\n    if (el.srcset) {\n      nativeSetAttribute.call(el, \"data-ofi-srcset\", el.srcset);\n    }\n\n    setPlaceholder(el, el.naturalWidth || el.width, el.naturalHeight || el.height); // remove srcset because it overrides src\n\n    if (el.srcset) {\n      el.srcset = '';\n    }\n\n    try {\n      keepSrcUsable(el);\n    } catch (err) {\n      if (window.console) {\n        console.warn('https://bit.ly/ofi-old-browser');\n      }\n    }\n  }\n\n  polyfillCurrentSrc(ofi.img);\n  el.style.backgroundImage = \"url(\\\"\" + (ofi.img.currentSrc || ofi.img.src).replace(/\"/g, '\\\\\"') + \"\\\")\";\n  el.style.backgroundPosition = style['object-position'] || 'center';\n  el.style.backgroundRepeat = 'no-repeat';\n  el.style.backgroundOrigin = 'content-box';\n\n  if (/scale-down/.test(style['object-fit'])) {\n    onImageReady(ofi.img, function () {\n      if (ofi.img.naturalWidth > el.width || ofi.img.naturalHeight > el.height) {\n        el.style.backgroundSize = 'contain';\n      } else {\n        el.style.backgroundSize = 'auto';\n      }\n    });\n  } else {\n    el.style.backgroundSize = style['object-fit'].replace('none', 'auto').replace('fill', '100% 100%');\n  }\n\n  onImageReady(ofi.img, function (img) {\n    setPlaceholder(el, img.naturalWidth, img.naturalHeight);\n  });\n}\n\nfunction keepSrcUsable(el) {\n  var descriptors = {\n    get: function get(prop) {\n      return el[OFI].img[prop ? prop : 'src'];\n    },\n    set: function set(value, prop) {\n      el[OFI].img[prop ? prop : 'src'] = value;\n      nativeSetAttribute.call(el, \"data-ofi-\" + prop, value); // preserve for any future cloneNode\n\n      fixOne(el);\n      return value;\n    }\n  };\n  Object.defineProperty(el, 'src', descriptors);\n  Object.defineProperty(el, 'currentSrc', {\n    get: function () {\n      return descriptors.get('currentSrc');\n    }\n  });\n  Object.defineProperty(el, 'srcset', {\n    get: function () {\n      return descriptors.get('srcset');\n    },\n    set: function (ss) {\n      return descriptors.set(ss, 'srcset');\n    }\n  });\n}\n\nfunction hijackAttributes() {\n  function getOfiImageMaybe(el, name) {\n    return el[OFI] && el[OFI].img && (name === 'src' || name === 'srcset') ? el[OFI].img : el;\n  }\n\n  if (!supportsObjectPosition) {\n    HTMLImageElement.prototype.getAttribute = function (name) {\n      return nativeGetAttribute.call(getOfiImageMaybe(this, name), name);\n    };\n\n    HTMLImageElement.prototype.setAttribute = function (name, value) {\n      return nativeSetAttribute.call(getOfiImageMaybe(this, name), name, String(value));\n    };\n  }\n}\n\nfunction fix(imgs, opts) {\n  var startAutoMode = !autoModeEnabled && !imgs;\n  opts = opts || {};\n  imgs = imgs || 'img';\n\n  if (supportsObjectPosition && !opts.skipTest || !supportsOFI) {\n    return false;\n  } // use imgs as a selector or just select all images\n\n\n  if (imgs === 'img') {\n    imgs = document.getElementsByTagName('img');\n  } else if (typeof imgs === 'string') {\n    imgs = document.querySelectorAll(imgs);\n  } else if (!('length' in imgs)) {\n    imgs = [imgs];\n  } // apply fix to all\n\n\n  for (var i = 0; i < imgs.length; i++) {\n    imgs[i][OFI] = imgs[i][OFI] || {\n      skipTest: opts.skipTest\n    };\n    fixOne(imgs[i]);\n  }\n\n  if (startAutoMode) {\n    document.body.addEventListener('load', function (e) {\n      if (e.target.tagName === 'IMG') {\n        fix(e.target, {\n          skipTest: opts.skipTest\n        });\n      }\n    }, true);\n    autoModeEnabled = true;\n    imgs = 'img'; // reset to a generic selector for watchMQ\n  } // if requested, watch media queries for object-fit change\n\n\n  if (opts.watchMQ) {\n    window.addEventListener('resize', fix.bind(null, imgs, {\n      skipTest: opts.skipTest\n    }));\n  }\n}\n\nfix.supportsObjectFit = supportsObjectFit;\nfix.supportsObjectPosition = supportsObjectPosition;\nhijackAttributes();\nmodule.exports = fix;","map":{"version":3,"sources":["/Users/manhsy/Developer/manhsy-portfolio/node_modules/object-fit-images/dist/ofi.common-js.js"],"names":["OFI","propRegex","testImg","Image","style","supportsObjectFit","supportsObjectPosition","supportsOFI","supportsCurrentSrc","currentSrc","nativeGetAttribute","getAttribute","nativeSetAttribute","setAttribute","autoModeEnabled","createPlaceholder","w","h","polyfillCurrentSrc","el","srcset","window","picturefill","pf","_","ns","evaled","fillImg","reselect","curSrc","supported","src","getStyle","getComputedStyle","fontFamily","parsed","props","exec","setPlaceholder","img","width","height","placeholder","call","onImageReady","callback","naturalWidth","setTimeout","fixOne","ofi","skipTest","naturalHeight","keepSrcUsable","err","console","warn","backgroundImage","replace","backgroundPosition","backgroundRepeat","backgroundOrigin","test","backgroundSize","descriptors","get","prop","set","value","Object","defineProperty","ss","hijackAttributes","getOfiImageMaybe","name","HTMLImageElement","prototype","String","fix","imgs","opts","startAutoMode","document","getElementsByTagName","querySelectorAll","i","length","body","addEventListener","e","target","tagName","watchMQ","bind","module","exports"],"mappings":"AAAA;AACA;;AAEA,IAAIA,GAAG,GAAG,4BAAV;AACA,IAAIC,SAAS,GAAG,kDAAhB;AACA,IAAIC,OAAO,GAAG,OAAOC,KAAP,KAAiB,WAAjB,GAA+B;AAACC,EAAAA,KAAK,EAAE;AAAC,uBAAmB;AAApB;AAAR,CAA/B,GAAiE,IAAID,KAAJ,EAA/E;AACA,IAAIE,iBAAiB,IAAG,gBAAgBH,OAAO,CAACE,KAA3B,CAArB;AACA,IAAIE,sBAAsB,IAAG,qBAAqBJ,OAAO,CAACE,KAAhC,CAA1B;AACA,IAAIG,WAAW,IAAG,qBAAqBL,OAAO,CAACE,KAAhC,CAAf;AACA,IAAII,kBAAkB,GAAG,OAAON,OAAO,CAACO,UAAf,KAA8B,QAAvD;AACA,IAAIC,kBAAkB,GAAGR,OAAO,CAACS,YAAjC;AACA,IAAIC,kBAAkB,GAAGV,OAAO,CAACW,YAAjC;AACA,IAAIC,eAAe,GAAG,KAAtB;;AAEA,SAASC,iBAAT,CAA2BC,CAA3B,EAA8BC,CAA9B,EAAiC;AAChC,SAAQ,yEAAyED,CAAzE,GAA6E,YAA7E,GAA4FC,CAA5F,GAAgG,gBAAxG;AACA;;AAED,SAASC,kBAAT,CAA4BC,EAA5B,EAAgC;AAC/B,MAAIA,EAAE,CAACC,MAAH,IAAa,CAACZ,kBAAd,IAAoCa,MAAM,CAACC,WAA/C,EAA4D;AAC3D,QAAIC,EAAE,GAAGF,MAAM,CAACC,WAAP,CAAmBE,CAA5B,CAD2D,CAE3D;;AACA,QAAI,CAACL,EAAE,CAACI,EAAE,CAACE,EAAJ,CAAH,IAAc,CAACN,EAAE,CAACI,EAAE,CAACE,EAAJ,CAAF,CAAUC,MAA7B,EAAqC;AACpC;AACAH,MAAAA,EAAE,CAACI,OAAH,CAAWR,EAAX,EAAe;AAACS,QAAAA,QAAQ,EAAE;AAAX,OAAf;AACA;;AAED,QAAI,CAACT,EAAE,CAACI,EAAE,CAACE,EAAJ,CAAF,CAAUI,MAAf,EAAuB;AACtB;AACAV,MAAAA,EAAE,CAACI,EAAE,CAACE,EAAJ,CAAF,CAAUK,SAAV,GAAsB,KAAtB;AACAP,MAAAA,EAAE,CAACI,OAAH,CAAWR,EAAX,EAAe;AAACS,QAAAA,QAAQ,EAAE;AAAX,OAAf;AACA,KAZ0D,CAc3D;;;AACAT,IAAAA,EAAE,CAACV,UAAH,GAAgBU,EAAE,CAACI,EAAE,CAACE,EAAJ,CAAF,CAAUI,MAAV,IAAoBV,EAAE,CAACY,GAAvC;AACA;AACD;;AAED,SAASC,QAAT,CAAkBb,EAAlB,EAAsB;AACrB,MAAIf,KAAK,GAAG6B,gBAAgB,CAACd,EAAD,CAAhB,CAAqBe,UAAjC;AACA,MAAIC,MAAJ;AACA,MAAIC,KAAK,GAAG,EAAZ;;AACA,SAAO,CAACD,MAAM,GAAGlC,SAAS,CAACoC,IAAV,CAAejC,KAAf,CAAV,MAAqC,IAA5C,EAAkD;AACjDgC,IAAAA,KAAK,CAACD,MAAM,CAAC,CAAD,CAAP,CAAL,GAAmBA,MAAM,CAAC,CAAD,CAAzB;AACA;;AACD,SAAOC,KAAP;AACA;;AAED,SAASE,cAAT,CAAwBC,GAAxB,EAA6BC,KAA7B,EAAoCC,MAApC,EAA4C;AAC3C;AACA,MAAIC,WAAW,GAAG3B,iBAAiB,CAACyB,KAAK,IAAI,CAAV,EAAaC,MAAM,IAAI,CAAvB,CAAnC,CAF2C,CAI3C;;AACA,MAAI/B,kBAAkB,CAACiC,IAAnB,CAAwBJ,GAAxB,EAA6B,KAA7B,MAAwCG,WAA5C,EAAyD;AACxD9B,IAAAA,kBAAkB,CAAC+B,IAAnB,CAAwBJ,GAAxB,EAA6B,KAA7B,EAAoCG,WAApC;AACA;AACD;;AAED,SAASE,YAAT,CAAsBL,GAAtB,EAA2BM,QAA3B,EAAqC;AACpC;AACA;AACA,MAAIN,GAAG,CAACO,YAAR,EAAsB;AACrBD,IAAAA,QAAQ,CAACN,GAAD,CAAR;AACA,GAFD,MAEO;AACNQ,IAAAA,UAAU,CAACH,YAAD,EAAe,GAAf,EAAoBL,GAApB,EAAyBM,QAAzB,CAAV;AACA;AACD;;AAED,SAASG,MAAT,CAAgB7B,EAAhB,EAAoB;AACnB,MAAIf,KAAK,GAAG4B,QAAQ,CAACb,EAAD,CAApB;AACA,MAAI8B,GAAG,GAAG9B,EAAE,CAACnB,GAAD,CAAZ;AACAI,EAAAA,KAAK,CAAC,YAAD,CAAL,GAAsBA,KAAK,CAAC,YAAD,CAAL,IAAuB,MAA7C,CAHmB,CAGkC;AAErD;;AACA,MAAI,CAAC6C,GAAG,CAACV,GAAT,EAAc;AACb;AACA,QAAInC,KAAK,CAAC,YAAD,CAAL,KAAwB,MAA5B,EAAoC;AACnC;AACA,KAJY,CAMb;;;AACA,QACC,CAAC6C,GAAG,CAACC,QAAL,IAAiB;AACjB7C,IAAAA,iBADA,IACqB;AACrB,KAACD,KAAK,CAAC,iBAAD,CAHP,CAG2B;AAH3B,MAIE;AACD;AACA;AACD,GApBkB,CAsBnB;;;AACA,MAAI,CAAC6C,GAAG,CAACV,GAAT,EAAc;AACbU,IAAAA,GAAG,CAACV,GAAJ,GAAU,IAAIpC,KAAJ,CAAUgB,EAAE,CAACqB,KAAb,EAAoBrB,EAAE,CAACsB,MAAvB,CAAV;AACAQ,IAAAA,GAAG,CAACV,GAAJ,CAAQnB,MAAR,GAAiBV,kBAAkB,CAACiC,IAAnB,CAAwBxB,EAAxB,EAA4B,iBAA5B,KAAkDA,EAAE,CAACC,MAAtE;AACA6B,IAAAA,GAAG,CAACV,GAAJ,CAAQR,GAAR,GAAcrB,kBAAkB,CAACiC,IAAnB,CAAwBxB,EAAxB,EAA4B,cAA5B,KAA+CA,EAAE,CAACY,GAAhE,CAHa,CAKb;AACA;;AACAnB,IAAAA,kBAAkB,CAAC+B,IAAnB,CAAwBxB,EAAxB,EAA4B,cAA5B,EAA4CA,EAAE,CAACY,GAA/C;;AACA,QAAIZ,EAAE,CAACC,MAAP,EAAe;AACdR,MAAAA,kBAAkB,CAAC+B,IAAnB,CAAwBxB,EAAxB,EAA4B,iBAA5B,EAA+CA,EAAE,CAACC,MAAlD;AACA;;AAEDkB,IAAAA,cAAc,CAACnB,EAAD,EAAKA,EAAE,CAAC2B,YAAH,IAAmB3B,EAAE,CAACqB,KAA3B,EAAkCrB,EAAE,CAACgC,aAAH,IAAoBhC,EAAE,CAACsB,MAAzD,CAAd,CAZa,CAcb;;AACA,QAAItB,EAAE,CAACC,MAAP,EAAe;AACdD,MAAAA,EAAE,CAACC,MAAH,GAAY,EAAZ;AACA;;AACD,QAAI;AACHgC,MAAAA,aAAa,CAACjC,EAAD,CAAb;AACA,KAFD,CAEE,OAAOkC,GAAP,EAAY;AACb,UAAIhC,MAAM,CAACiC,OAAX,EAAoB;AACnBA,QAAAA,OAAO,CAACC,IAAR,CAAa,gCAAb;AACA;AACD;AACD;;AAEDrC,EAAAA,kBAAkB,CAAC+B,GAAG,CAACV,GAAL,CAAlB;AAEApB,EAAAA,EAAE,CAACf,KAAH,CAASoD,eAAT,GAA2B,WAAY,CAACP,GAAG,CAACV,GAAJ,CAAQ9B,UAAR,IAAsBwC,GAAG,CAACV,GAAJ,CAAQR,GAA/B,EAAoC0B,OAApC,CAA4C,IAA5C,EAAkD,KAAlD,CAAZ,GAAwE,KAAnG;AACAtC,EAAAA,EAAE,CAACf,KAAH,CAASsD,kBAAT,GAA8BtD,KAAK,CAAC,iBAAD,CAAL,IAA4B,QAA1D;AACAe,EAAAA,EAAE,CAACf,KAAH,CAASuD,gBAAT,GAA4B,WAA5B;AACAxC,EAAAA,EAAE,CAACf,KAAH,CAASwD,gBAAT,GAA4B,aAA5B;;AAEA,MAAI,aAAaC,IAAb,CAAkBzD,KAAK,CAAC,YAAD,CAAvB,CAAJ,EAA4C;AAC3CwC,IAAAA,YAAY,CAACK,GAAG,CAACV,GAAL,EAAU,YAAY;AACjC,UAAIU,GAAG,CAACV,GAAJ,CAAQO,YAAR,GAAuB3B,EAAE,CAACqB,KAA1B,IAAmCS,GAAG,CAACV,GAAJ,CAAQY,aAAR,GAAwBhC,EAAE,CAACsB,MAAlE,EAA0E;AACzEtB,QAAAA,EAAE,CAACf,KAAH,CAAS0D,cAAT,GAA0B,SAA1B;AACA,OAFD,MAEO;AACN3C,QAAAA,EAAE,CAACf,KAAH,CAAS0D,cAAT,GAA0B,MAA1B;AACA;AACD,KANW,CAAZ;AAOA,GARD,MAQO;AACN3C,IAAAA,EAAE,CAACf,KAAH,CAAS0D,cAAT,GAA0B1D,KAAK,CAAC,YAAD,CAAL,CAAoBqD,OAApB,CAA4B,MAA5B,EAAoC,MAApC,EAA4CA,OAA5C,CAAoD,MAApD,EAA4D,WAA5D,CAA1B;AACA;;AAEDb,EAAAA,YAAY,CAACK,GAAG,CAACV,GAAL,EAAU,UAAUA,GAAV,EAAe;AACpCD,IAAAA,cAAc,CAACnB,EAAD,EAAKoB,GAAG,CAACO,YAAT,EAAuBP,GAAG,CAACY,aAA3B,CAAd;AACA,GAFW,CAAZ;AAGA;;AAED,SAASC,aAAT,CAAuBjC,EAAvB,EAA2B;AAC1B,MAAI4C,WAAW,GAAG;AACjBC,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,IAAb,EAAmB;AACvB,aAAO9C,EAAE,CAACnB,GAAD,CAAF,CAAQuC,GAAR,CAAY0B,IAAI,GAAGA,IAAH,GAAU,KAA1B,CAAP;AACA,KAHgB;AAIjBC,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,KAAb,EAAoBF,IAApB,EAA0B;AAC9B9C,MAAAA,EAAE,CAACnB,GAAD,CAAF,CAAQuC,GAAR,CAAY0B,IAAI,GAAGA,IAAH,GAAU,KAA1B,IAAmCE,KAAnC;AACAvD,MAAAA,kBAAkB,CAAC+B,IAAnB,CAAwBxB,EAAxB,EAA6B,cAAc8C,IAA3C,EAAkDE,KAAlD,EAF8B,CAE4B;;AAC1DnB,MAAAA,MAAM,CAAC7B,EAAD,CAAN;AACA,aAAOgD,KAAP;AACA;AATgB,GAAlB;AAWAC,EAAAA,MAAM,CAACC,cAAP,CAAsBlD,EAAtB,EAA0B,KAA1B,EAAiC4C,WAAjC;AACAK,EAAAA,MAAM,CAACC,cAAP,CAAsBlD,EAAtB,EAA0B,YAA1B,EAAwC;AACvC6C,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAOD,WAAW,CAACC,GAAZ,CAAgB,YAAhB,CAAP;AAAuC;AADnB,GAAxC;AAGAI,EAAAA,MAAM,CAACC,cAAP,CAAsBlD,EAAtB,EAA0B,QAA1B,EAAoC;AACnC6C,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAOD,WAAW,CAACC,GAAZ,CAAgB,QAAhB,CAAP;AAAmC,KADnB;AAEnCE,IAAAA,GAAG,EAAE,UAAUI,EAAV,EAAc;AAAE,aAAOP,WAAW,CAACG,GAAZ,CAAgBI,EAAhB,EAAoB,QAApB,CAAP;AAAuC;AAFzB,GAApC;AAIA;;AAED,SAASC,gBAAT,GAA4B;AAC3B,WAASC,gBAAT,CAA0BrD,EAA1B,EAA8BsD,IAA9B,EAAoC;AACnC,WAAOtD,EAAE,CAACnB,GAAD,CAAF,IAAWmB,EAAE,CAACnB,GAAD,CAAF,CAAQuC,GAAnB,KAA2BkC,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,QAAtD,IAAkEtD,EAAE,CAACnB,GAAD,CAAF,CAAQuC,GAA1E,GAAgFpB,EAAvF;AACA;;AACD,MAAI,CAACb,sBAAL,EAA6B;AAC5BoE,IAAAA,gBAAgB,CAACC,SAAjB,CAA2BhE,YAA3B,GAA0C,UAAU8D,IAAV,EAAgB;AACzD,aAAO/D,kBAAkB,CAACiC,IAAnB,CAAwB6B,gBAAgB,CAAC,IAAD,EAAOC,IAAP,CAAxC,EAAsDA,IAAtD,CAAP;AACA,KAFD;;AAIAC,IAAAA,gBAAgB,CAACC,SAAjB,CAA2B9D,YAA3B,GAA0C,UAAU4D,IAAV,EAAgBN,KAAhB,EAAuB;AAChE,aAAOvD,kBAAkB,CAAC+B,IAAnB,CAAwB6B,gBAAgB,CAAC,IAAD,EAAOC,IAAP,CAAxC,EAAsDA,IAAtD,EAA4DG,MAAM,CAACT,KAAD,CAAlE,CAAP;AACA,KAFD;AAGA;AACD;;AAED,SAASU,GAAT,CAAaC,IAAb,EAAmBC,IAAnB,EAAyB;AACxB,MAAIC,aAAa,GAAG,CAAClE,eAAD,IAAoB,CAACgE,IAAzC;AACAC,EAAAA,IAAI,GAAGA,IAAI,IAAI,EAAf;AACAD,EAAAA,IAAI,GAAGA,IAAI,IAAI,KAAf;;AAEA,MAAKxE,sBAAsB,IAAI,CAACyE,IAAI,CAAC7B,QAAjC,IAA8C,CAAC3C,WAAnD,EAAgE;AAC/D,WAAO,KAAP;AACA,GAPuB,CASxB;;;AACA,MAAIuE,IAAI,KAAK,KAAb,EAAoB;AACnBA,IAAAA,IAAI,GAAGG,QAAQ,CAACC,oBAAT,CAA8B,KAA9B,CAAP;AACA,GAFD,MAEO,IAAI,OAAOJ,IAAP,KAAgB,QAApB,EAA8B;AACpCA,IAAAA,IAAI,GAAGG,QAAQ,CAACE,gBAAT,CAA0BL,IAA1B,CAAP;AACA,GAFM,MAEA,IAAI,EAAE,YAAYA,IAAd,CAAJ,EAAyB;AAC/BA,IAAAA,IAAI,GAAG,CAACA,IAAD,CAAP;AACA,GAhBuB,CAkBxB;;;AACA,OAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,IAAI,CAACO,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACrCN,IAAAA,IAAI,CAACM,CAAD,CAAJ,CAAQpF,GAAR,IAAe8E,IAAI,CAACM,CAAD,CAAJ,CAAQpF,GAAR,KAAgB;AAC9BkD,MAAAA,QAAQ,EAAE6B,IAAI,CAAC7B;AADe,KAA/B;AAGAF,IAAAA,MAAM,CAAC8B,IAAI,CAACM,CAAD,CAAL,CAAN;AACA;;AAED,MAAIJ,aAAJ,EAAmB;AAClBC,IAAAA,QAAQ,CAACK,IAAT,CAAcC,gBAAd,CAA+B,MAA/B,EAAuC,UAAUC,CAAV,EAAa;AACnD,UAAIA,CAAC,CAACC,MAAF,CAASC,OAAT,KAAqB,KAAzB,EAAgC;AAC/Bb,QAAAA,GAAG,CAACW,CAAC,CAACC,MAAH,EAAW;AACbvC,UAAAA,QAAQ,EAAE6B,IAAI,CAAC7B;AADF,SAAX,CAAH;AAGA;AACD,KAND,EAMG,IANH;AAOApC,IAAAA,eAAe,GAAG,IAAlB;AACAgE,IAAAA,IAAI,GAAG,KAAP,CATkB,CASJ;AACd,GApCuB,CAsCxB;;;AACA,MAAIC,IAAI,CAACY,OAAT,EAAkB;AACjBtE,IAAAA,MAAM,CAACkE,gBAAP,CAAwB,QAAxB,EAAkCV,GAAG,CAACe,IAAJ,CAAS,IAAT,EAAed,IAAf,EAAqB;AACtD5B,MAAAA,QAAQ,EAAE6B,IAAI,CAAC7B;AADuC,KAArB,CAAlC;AAGA;AACD;;AAED2B,GAAG,CAACxE,iBAAJ,GAAwBA,iBAAxB;AACAwE,GAAG,CAACvE,sBAAJ,GAA6BA,sBAA7B;AAEAiE,gBAAgB;AAEhBsB,MAAM,CAACC,OAAP,GAAiBjB,GAAjB","sourcesContent":["/*! npm.im/object-fit-images 3.2.4 */\n'use strict';\n\nvar OFI = 'bfred-it:object-fit-images';\nvar propRegex = /(object-fit|object-position)\\s*:\\s*([-.\\w\\s%]+)/g;\nvar testImg = typeof Image === 'undefined' ? {style: {'object-position': 1}} : new Image();\nvar supportsObjectFit = 'object-fit' in testImg.style;\nvar supportsObjectPosition = 'object-position' in testImg.style;\nvar supportsOFI = 'background-size' in testImg.style;\nvar supportsCurrentSrc = typeof testImg.currentSrc === 'string';\nvar nativeGetAttribute = testImg.getAttribute;\nvar nativeSetAttribute = testImg.setAttribute;\nvar autoModeEnabled = false;\n\nfunction createPlaceholder(w, h) {\n\treturn (\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='\" + w + \"' height='\" + h + \"'%3E%3C/svg%3E\");\n}\n\nfunction polyfillCurrentSrc(el) {\n\tif (el.srcset && !supportsCurrentSrc && window.picturefill) {\n\t\tvar pf = window.picturefill._;\n\t\t// parse srcset with picturefill where currentSrc isn't available\n\t\tif (!el[pf.ns] || !el[pf.ns].evaled) {\n\t\t\t// force synchronous srcset parsing\n\t\t\tpf.fillImg(el, {reselect: true});\n\t\t}\n\n\t\tif (!el[pf.ns].curSrc) {\n\t\t\t// force picturefill to parse srcset\n\t\t\tel[pf.ns].supported = false;\n\t\t\tpf.fillImg(el, {reselect: true});\n\t\t}\n\n\t\t// retrieve parsed currentSrc, if any\n\t\tel.currentSrc = el[pf.ns].curSrc || el.src;\n\t}\n}\n\nfunction getStyle(el) {\n\tvar style = getComputedStyle(el).fontFamily;\n\tvar parsed;\n\tvar props = {};\n\twhile ((parsed = propRegex.exec(style)) !== null) {\n\t\tprops[parsed[1]] = parsed[2];\n\t}\n\treturn props;\n}\n\nfunction setPlaceholder(img, width, height) {\n\t// Default: fill width, no height\n\tvar placeholder = createPlaceholder(width || 1, height || 0);\n\n\t// Only set placeholder if it's different\n\tif (nativeGetAttribute.call(img, 'src') !== placeholder) {\n\t\tnativeSetAttribute.call(img, 'src', placeholder);\n\t}\n}\n\nfunction onImageReady(img, callback) {\n\t// naturalWidth is only available when the image headers are loaded,\n\t// this loop will poll it every 100ms.\n\tif (img.naturalWidth) {\n\t\tcallback(img);\n\t} else {\n\t\tsetTimeout(onImageReady, 100, img, callback);\n\t}\n}\n\nfunction fixOne(el) {\n\tvar style = getStyle(el);\n\tvar ofi = el[OFI];\n\tstyle['object-fit'] = style['object-fit'] || 'fill'; // default value\n\n\t// Avoid running where unnecessary, unless OFI had already done its deed\n\tif (!ofi.img) {\n\t\t// fill is the default behavior so no action is necessary\n\t\tif (style['object-fit'] === 'fill') {\n\t\t\treturn;\n\t\t}\n\n\t\t// Where object-fit is supported and object-position isn't (Safari < 10)\n\t\tif (\n\t\t\t!ofi.skipTest && // unless user wants to apply regardless of browser support\n\t\t\tsupportsObjectFit && // if browser already supports object-fit\n\t\t\t!style['object-position'] // unless object-position is used\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// keep a clone in memory while resetting the original to a blank\n\tif (!ofi.img) {\n\t\tofi.img = new Image(el.width, el.height);\n\t\tofi.img.srcset = nativeGetAttribute.call(el, \"data-ofi-srcset\") || el.srcset;\n\t\tofi.img.src = nativeGetAttribute.call(el, \"data-ofi-src\") || el.src;\n\n\t\t// preserve for any future cloneNode calls\n\t\t// https://github.com/bfred-it/object-fit-images/issues/53\n\t\tnativeSetAttribute.call(el, \"data-ofi-src\", el.src);\n\t\tif (el.srcset) {\n\t\t\tnativeSetAttribute.call(el, \"data-ofi-srcset\", el.srcset);\n\t\t}\n\n\t\tsetPlaceholder(el, el.naturalWidth || el.width, el.naturalHeight || el.height);\n\n\t\t// remove srcset because it overrides src\n\t\tif (el.srcset) {\n\t\t\tel.srcset = '';\n\t\t}\n\t\ttry {\n\t\t\tkeepSrcUsable(el);\n\t\t} catch (err) {\n\t\t\tif (window.console) {\n\t\t\t\tconsole.warn('https://bit.ly/ofi-old-browser');\n\t\t\t}\n\t\t}\n\t}\n\n\tpolyfillCurrentSrc(ofi.img);\n\n\tel.style.backgroundImage = \"url(\\\"\" + ((ofi.img.currentSrc || ofi.img.src).replace(/\"/g, '\\\\\"')) + \"\\\")\";\n\tel.style.backgroundPosition = style['object-position'] || 'center';\n\tel.style.backgroundRepeat = 'no-repeat';\n\tel.style.backgroundOrigin = 'content-box';\n\n\tif (/scale-down/.test(style['object-fit'])) {\n\t\tonImageReady(ofi.img, function () {\n\t\t\tif (ofi.img.naturalWidth > el.width || ofi.img.naturalHeight > el.height) {\n\t\t\t\tel.style.backgroundSize = 'contain';\n\t\t\t} else {\n\t\t\t\tel.style.backgroundSize = 'auto';\n\t\t\t}\n\t\t});\n\t} else {\n\t\tel.style.backgroundSize = style['object-fit'].replace('none', 'auto').replace('fill', '100% 100%');\n\t}\n\n\tonImageReady(ofi.img, function (img) {\n\t\tsetPlaceholder(el, img.naturalWidth, img.naturalHeight);\n\t});\n}\n\nfunction keepSrcUsable(el) {\n\tvar descriptors = {\n\t\tget: function get(prop) {\n\t\t\treturn el[OFI].img[prop ? prop : 'src'];\n\t\t},\n\t\tset: function set(value, prop) {\n\t\t\tel[OFI].img[prop ? prop : 'src'] = value;\n\t\t\tnativeSetAttribute.call(el, (\"data-ofi-\" + prop), value); // preserve for any future cloneNode\n\t\t\tfixOne(el);\n\t\t\treturn value;\n\t\t}\n\t};\n\tObject.defineProperty(el, 'src', descriptors);\n\tObject.defineProperty(el, 'currentSrc', {\n\t\tget: function () { return descriptors.get('currentSrc'); }\n\t});\n\tObject.defineProperty(el, 'srcset', {\n\t\tget: function () { return descriptors.get('srcset'); },\n\t\tset: function (ss) { return descriptors.set(ss, 'srcset'); }\n\t});\n}\n\nfunction hijackAttributes() {\n\tfunction getOfiImageMaybe(el, name) {\n\t\treturn el[OFI] && el[OFI].img && (name === 'src' || name === 'srcset') ? el[OFI].img : el;\n\t}\n\tif (!supportsObjectPosition) {\n\t\tHTMLImageElement.prototype.getAttribute = function (name) {\n\t\t\treturn nativeGetAttribute.call(getOfiImageMaybe(this, name), name);\n\t\t};\n\n\t\tHTMLImageElement.prototype.setAttribute = function (name, value) {\n\t\t\treturn nativeSetAttribute.call(getOfiImageMaybe(this, name), name, String(value));\n\t\t};\n\t}\n}\n\nfunction fix(imgs, opts) {\n\tvar startAutoMode = !autoModeEnabled && !imgs;\n\topts = opts || {};\n\timgs = imgs || 'img';\n\n\tif ((supportsObjectPosition && !opts.skipTest) || !supportsOFI) {\n\t\treturn false;\n\t}\n\n\t// use imgs as a selector or just select all images\n\tif (imgs === 'img') {\n\t\timgs = document.getElementsByTagName('img');\n\t} else if (typeof imgs === 'string') {\n\t\timgs = document.querySelectorAll(imgs);\n\t} else if (!('length' in imgs)) {\n\t\timgs = [imgs];\n\t}\n\n\t// apply fix to all\n\tfor (var i = 0; i < imgs.length; i++) {\n\t\timgs[i][OFI] = imgs[i][OFI] || {\n\t\t\tskipTest: opts.skipTest\n\t\t};\n\t\tfixOne(imgs[i]);\n\t}\n\n\tif (startAutoMode) {\n\t\tdocument.body.addEventListener('load', function (e) {\n\t\t\tif (e.target.tagName === 'IMG') {\n\t\t\t\tfix(e.target, {\n\t\t\t\t\tskipTest: opts.skipTest\n\t\t\t\t});\n\t\t\t}\n\t\t}, true);\n\t\tautoModeEnabled = true;\n\t\timgs = 'img'; // reset to a generic selector for watchMQ\n\t}\n\n\t// if requested, watch media queries for object-fit change\n\tif (opts.watchMQ) {\n\t\twindow.addEventListener('resize', fix.bind(null, imgs, {\n\t\t\tskipTest: opts.skipTest\n\t\t}));\n\t}\n}\n\nfix.supportsObjectFit = supportsObjectFit;\nfix.supportsObjectPosition = supportsObjectPosition;\n\nhijackAttributes();\n\nmodule.exports = fix;\n"]},"metadata":{},"sourceType":"script"}